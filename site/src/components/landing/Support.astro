---
const tiers = [
  {
    name: "Community",
    price: "Free",
    description: "Full-featured, self-supported",
    features: [
      "All 45+ package formats",
      "Security scanning included",
      "SSO, RBAC, audit logging",
      "GitHub Discussions support",
      "Community Discord",
    ],
    cta: {
      text: "Get Started",
      href: "/docs/quickstart",
      style: "secondary",
    },
  },
  {
    name: "Pro Support",
    price: "Contact us",
    description: "For teams that need guaranteed response times",
    features: [
      "Everything in Community",
      "48-hour response SLA",
      "Private support channel",
      "Security patch notifications",
      "Upgrade assistance",
    ],
    cta: {
      text: "Talk to Us",
      href: "#",
      style: "primary",
      email: true,
    },
    highlighted: true,
  },
  {
    name: "Enterprise",
    price: "Custom",
    description: "Dedicated support for mission-critical deployments",
    features: [
      "Everything in Pro",
      "4-hour response SLA",
      "Dedicated support engineer",
      "Architecture review",
      "Migration assistance",
      "Custom integration help",
    ],
    cta: {
      text: "Contact Sales",
      href: "#",
      style: "primary",
      email: true,
    },
  },
];
---

<section id="support" class="bg-gray-50 py-20">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-12">
      <h2 class="text-3xl font-bold mb-4">
        The software is free. You pay for us.
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto leading-relaxed">
        Artifact Keeper is 100% open source with no restricted features.
        Our support plans give you direct access to the engineers who build it.
      </p>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      {tiers.map((tier) => (
        <div
          class={`rounded-lg p-8 ${
            tier.highlighted
              ? "bg-brand-dark text-white ring-2 ring-brand scale-105"
              : "bg-white border border-gray-200"
          }`}
        >
          <div class="mb-6">
            <h3 class={`text-xl font-bold mb-1 ${tier.highlighted ? "text-white" : "text-gray-900"}`}>
              {tier.name}
            </h3>
            <p class={`text-2xl font-bold ${tier.highlighted ? "text-brand" : "text-brand-dark"}`}>
              {tier.price}
            </p>
            <p class={`text-sm mt-2 ${tier.highlighted ? "text-white/70" : "text-gray-500"}`}>
              {tier.description}
            </p>
          </div>

          <ul class="space-y-3 mb-8">
            {tier.features.map((feature) => (
              <li class={`flex items-start gap-2 text-sm ${tier.highlighted ? "text-white/90" : "text-gray-600"}`}>
                <span class={`${tier.highlighted ? "text-brand" : "text-brand-dark"}`}>âœ“</span>
                {feature}
              </li>
            ))}
          </ul>

          {tier.cta.email ? (
            <a
              href={tier.cta.href}
              class={`block w-full text-center px-6 py-3 rounded-md font-semibold transition-colors duration-200 js-email-link ${
                tier.highlighted
                  ? "bg-brand text-white hover:bg-brand-hover"
                  : "bg-brand-dark text-white hover:bg-gray-800"
              }`}
              data-name="support"
              data-domain="artifactkeeper.com"
            >
              {tier.cta.text} &rarr;
            </a>
          ) : (
            <a
              href={tier.cta.href}
              class={`block w-full text-center px-6 py-3 rounded-md font-semibold transition-colors duration-200 ${
                tier.cta.style === "secondary"
                  ? "border-2 border-brand-dark text-brand-dark hover:bg-brand-dark hover:text-white"
                  : "bg-brand-dark text-white hover:bg-gray-800"
              }`}
            >
              {tier.cta.text} &rarr;
            </a>
          )}
        </div>
      ))}
    </div>

    <div class="mt-12 text-center">
      <p class="text-gray-500 text-sm">
        Not sure what you need?
        <a
          href="#"
          class="text-brand-dark font-semibold hover:underline js-email-link"
          data-name="support"
          data-domain="artifactkeeper.com"
        >
          Reach out
        </a>
        &mdash; we're happy to help you figure it out.
      </p>
    </div>
  </div>
</section>
